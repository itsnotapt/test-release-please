on:
   push:
     branches:
       - main
name: release-please
jobs:
  release-please:
    runs-on: ubuntu-latest
    steps:
      - uses: google-github-actions/release-please-action@v3
        id: release
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          command: manifest
      - uses: actions/checkout@v2
      - run: echo "A release was created."
        if: ${{ steps.release.outputs.releases_created }}      
      - run: echo docker push tag "${{ steps.release.outputs['packages/frontend--tag_name'] }}"
        if: ${{ steps.release.outputs['packages/frontend--release_created'] }}
      - run: echo docker push tag "${{ steps.release.outputs['packages/backend--tag_name'] }}"
        if: ${{ steps.release.outputs['packages/backend--release_created'] }}
      - run: echo helm release "${{ steps.release.outputs['packages/test--tag_name'] }}"
        if: ${{ steps.release.outputs['packages/test--release_created'] }}
